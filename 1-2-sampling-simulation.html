<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1.2 Virtual sampling | Statistical Inference via Data Science</title>
  <meta name="description" content="An open-source and fully-reproducible electronic textbook for teaching statistical inference using tidyverse data science tools." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="1.2 Virtual sampling | Statistical Inference via Data Science" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://moderndive.com/" />
  <meta property="og:image" content="https://moderndive.com/images/logos/book_cover.png" />
  <meta property="og:description" content="An open-source and fully-reproducible electronic textbook for teaching statistical inference using tidyverse data science tools." />
  <meta name="github-repo" content="moderndive/ModernDive_book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1.2 Virtual sampling | Statistical Inference via Data Science" />
  <meta name="twitter:site" content="@ModernDive" />
  <meta name="twitter:description" content="An open-source and fully-reproducible electronic textbook for teaching statistical inference using tidyverse data science tools." />
  <meta name="twitter:image" content="https://moderndive.com/images/logos/book_cover.png" />

<meta name="author" content="Chester Ismay and Albert Y. Kim   Foreword by Kelly S. McConville" />


<meta name="date" content="2021-01-29" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon-precomposed" sizes="152x152" href="images/logos/favicons/apple-touch-icon.png" />
  <link rel="shortcut icon" href="images/logos/favicons/favicon.ico" type="image/x-icon" />
<link rel="prev" href="1-1-sampling-activity.html"/>
<link rel="next" href="1-3-sampling-framework.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-89938436-1', 'auto');
  ga('send', 'pageview');

</script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome to ModernDive</a></li>
<li class="chapter" data-level="" data-path="foreword.html"><a href="foreword.html"><i class="fa fa-check"></i>Foreword</a></li>
<li class="part"><span><b>I Statistical Inference with infer</b></span></li>
<li class="chapter" data-level="1" data-path="1-sampling.html"><a href="1-sampling.html"><i class="fa fa-check"></i><b>1</b> Sampling</a><ul>
<li class="chapter" data-level="" data-path="1-sampling.html"><a href="1-sampling.html#sampling-packages"><i class="fa fa-check"></i>Needed packages</a></li>
<li class="chapter" data-level="1.1" data-path="1-1-sampling-activity.html"><a href="1-1-sampling-activity.html"><i class="fa fa-check"></i><b>1.1</b> Sampling bowl activity</a><ul>
<li class="chapter" data-level="1.1.1" data-path="1-1-sampling-activity.html"><a href="1-1-sampling-activity.html#what-proportion-of-this-bowls-balls-are-red"><i class="fa fa-check"></i><b>1.1.1</b> What proportion of this bowl’s balls are red?</a></li>
<li class="chapter" data-level="1.1.2" data-path="1-1-sampling-activity.html"><a href="1-1-sampling-activity.html#using-the-shovel-once"><i class="fa fa-check"></i><b>1.1.2</b> Using the shovel once</a></li>
<li class="chapter" data-level="1.1.3" data-path="1-1-sampling-activity.html"><a href="1-1-sampling-activity.html#student-shovels"><i class="fa fa-check"></i><b>1.1.3</b> Using the shovel 33 times</a></li>
<li class="chapter" data-level="1.1.4" data-path="1-1-sampling-activity.html"><a href="1-1-sampling-activity.html#what-did-we-just-do"><i class="fa fa-check"></i><b>1.1.4</b> What did we just do?</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="1-2-sampling-simulation.html"><a href="1-2-sampling-simulation.html"><i class="fa fa-check"></i><b>1.2</b> Virtual sampling</a><ul>
<li class="chapter" data-level="1.2.1" data-path="1-2-sampling-simulation.html"><a href="1-2-sampling-simulation.html#using-the-virtual-shovel-once"><i class="fa fa-check"></i><b>1.2.1</b> Using the virtual shovel once</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="1-3-sampling-framework.html"><a href="1-3-sampling-framework.html"><i class="fa fa-check"></i><b>1.3</b> Sampling framework</a><ul>
<li class="chapter" data-level="1.3.1" data-path="1-3-sampling-framework.html"><a href="1-3-sampling-framework.html#terminology-and-notation"><i class="fa fa-check"></i><b>1.3.1</b> Terminology and notation</a></li>
<li class="chapter" data-level="1.3.2" data-path="1-3-sampling-framework.html"><a href="1-3-sampling-framework.html#sampling-definitions"><i class="fa fa-check"></i><b>1.3.2</b> Statistical definitions</a></li>
<li class="chapter" data-level="1.3.3" data-path="1-3-sampling-framework.html"><a href="1-3-sampling-framework.html#moral-of-the-story"><i class="fa fa-check"></i><b>1.3.3</b> The moral of the story</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="1-4-sampling-case-study.html"><a href="1-4-sampling-case-study.html"><i class="fa fa-check"></i><b>1.4</b> Case study: Polls</a></li>
<li class="chapter" data-level="1.5" data-path="1-5-sampling-conclusion-central-limit-theorem.html"><a href="1-5-sampling-conclusion-central-limit-theorem.html"><i class="fa fa-check"></i><b>1.5</b> Central Limit Theorem</a></li>
<li class="chapter" data-level="1.6" data-path="1-6-sampling-conclusion.html"><a href="1-6-sampling-conclusion.html"><i class="fa fa-check"></i><b>1.6</b> Conclusion</a><ul>
<li class="chapter" data-level="1.6.1" data-path="1-6-sampling-conclusion.html"><a href="1-6-sampling-conclusion.html#sampling-conclusion-table"><i class="fa fa-check"></i><b>1.6.1</b> Sampling scenarios</a></li>
<li class="chapter" data-level="1.6.2" data-path="1-6-sampling-conclusion.html"><a href="1-6-sampling-conclusion.html#additional-resources"><i class="fa fa-check"></i><b>1.6.2</b> Additional resources</a></li>
<li class="chapter" data-level="1.6.3" data-path="1-6-sampling-conclusion.html"><a href="1-6-sampling-conclusion.html#whats-to-come"><i class="fa fa-check"></i><b>1.6.3</b> What’s to come?</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Statistical Inference via Data Science</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<html>
<img src='https://moderndive.com/wide_format.png' alt="ModernDive">
</html>
<div id="sampling-simulation" class="section level2">
<h2><span class="header-section-number">1.2</span> Virtual sampling</h2>
<p>In the previous Section <a href="1-1-sampling-activity.html#sampling-activity">1.1</a>, we performed a <em>tactile</em> sampling activity by hand. In other words, we used a physical bowl of balls and a physical shovel. We performed this sampling activity by hand first so that we could develop a firm understanding of the root ideas behind sampling. In this section, we’ll mimic this tactile sampling activity with a <em>virtual</em> sampling activity using a computer. In other words, we’ll use a virtual analog to the bowl of balls and a virtual analog to the shovel.</p>
<div id="using-the-virtual-shovel-once" class="section level3">
<h3><span class="header-section-number">1.2.1</span> Using the virtual shovel once</h3>
<p>Let’s start by performing the virtual analog of the tactile sampling exercise we performed in Section <a href="1-1-sampling-activity.html#sampling-activity">1.1</a>. We first need a virtual analog of the bowl seen in Figure <a href="1-1-sampling-activity.html#fig:sampling-exercise-1">1.1</a>. To this end, we included a data frame named <code>bowl</code> in the <code>moderndive</code> package. The rows of <code>bowl</code> correspond exactly with the contents of the actual bowl.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="1-2-sampling-simulation.html#cb5-1"></a>bowl</span></code></pre></div>
<pre><code># A tibble: 2,400 x 2
   ball_ID color
     &lt;int&gt; &lt;chr&gt;
 1       1 white
 2       2 white
 3       3 white
 4       4 red  
 5       5 white
 6       6 white
 7       7 red  
 8       8 white
 9       9 red  
10      10 white
# … with 2,390 more rows</code></pre>
<p>Observe that <code>bowl</code> has 2400 rows, telling us that the bowl contains 2400 equally sized balls. The first variable <code>ball_ID</code> is used as an <em>identification variable</em> as discussed in Subsection <a href="#identification-vs-measurement-variables"><strong>??</strong></a>; none of the balls in the actual bowl are marked with numbers. The second variable <code>color</code> indicates whether a particular virtual ball is red or white. View the contents of the bowl in RStudio’s data viewer and scroll through the contents to convince yourself that <code>bowl</code> is indeed a virtual analog of the actual bowl in Figure <a href="1-1-sampling-activity.html#fig:sampling-exercise-1">1.1</a>.</p>
<p>Now that we have a virtual analog of our bowl, we now need a virtual analog to the shovel seen in Figure <a href="1-1-sampling-activity.html#fig:sampling-exercise-2">1.2</a> to generate virtual samples of 50 balls. We’re going to use the <code>rep_sample_n()</code> function included in the <code>moderndive</code> package. This function allows us to take <code>rep</code>eated, or <code>rep</code>licated, <code>samples</code> of size <code>n</code>.</p>
<!--
Note: Put this back in if people have trouble understanding rep_sample_n() at first:

Let's show an example of this function in action. Let's first use the `tibble()` function to manually create a data frame of five fruit called `fruit_basket`. 


```r
fruit_basket <- tibble(
  fruit = c("Mango", "Tangerine", "Apricot", "Pamplemousse", "Lime")
)
```

We'll then `%>%` pipe the `fruit_basket` data frame into the `rep_sample_n()` function and set `size = 3`, indicating that we want to sample three fruit:


```r
fruit_basket %>% 
  rep_sample_n(size = 3)
```

```
# A tibble: 3 x 2
# Groups:   replicate [1]
  replicate fruit       
      <int> <chr>       
1         1 Lime        
2         1 Mango       
3         1 Pamplemousse
```

Observe that `bowl` has 2400 rows, telling us that the bowl contains 2400 equally sized balls. The first variable `ball_ID` is used as an *identification variable* as discussed in Subsection \@ref(identification-vs-measurement-variables); none of the balls in the actual bowl are marked with numbers. The second variable `color` indicates whether a particular virtual ball is red or white. View the contents of the bowl in RStudio's data viewer and scroll through the contents to convince yourself that `bowl` is indeed a virtual analog of the actual bowl in Figure \@ref(fig:sampling-exercise-1).

Now that we have a virtual analog of our bowl, we now need a virtual analog to the shovel seen in Figure \@ref(fig:sampling-exercise-2) to generate virtual samples of 50 balls. We're going to use the `rep_sample_n()` function included in the `moderndive` package. This function allows us to take `rep`eated, or `rep`licated, `samples` of size `n`. 


```r
virtual_shovel <- bowl %>% 
  rep_sample_n(size = 50)
virtual_shovel
```

```
# A tibble: 50 x 3
# Groups:   replicate [1]
   replicate ball_ID color
       <int>   <int> <chr>
 1         1    1970 white
 2         1     842 red  
 3         1    2287 white
 4         1     599 white
 5         1     108 white
 6         1     846 red  
 7         1     390 red  
 8         1     344 white
 9         1     910 white
10         1    1485 white
# … with 40 more rows
```

Observe that `virtual_shovel` has 50 rows corresponding to our virtual sample of size 50. The `ball_ID` variable identifies which of the 2400 balls from `bowl` are included in our sample of 50 balls while `color` denotes its color. However, what does the `replicate` variable indicate? In `virtual_shovel`'s case, `replicate` is equal to 1 for all 50 rows. This is telling us that these 50 rows correspond to the first repeated/replicated use of the shovel, in our case our first sample. We'll see shortly that when we "virtually" take 33 samples, `replicate` will take values between 1 and 33. 

Let's compute the proportion of balls in our virtual sample that are red using the `dplyr` data wrangling verbs you learned in Chapter \@ref(wrangling). First, for each of our 50 sampled balls, let's identify if it is red or not using a test for equality with `==`. Let's create a new Boolean variable `is_red` using the `mutate()` function from Section \@ref(mutate):


```r
virtual_shovel %>% 
  mutate(is_red = (color == "red"))
```

```
# A tibble: 50 x 4
# Groups:   replicate [1]
   replicate ball_ID color is_red
       <int>   <int> <chr> <lgl> 
 1         1    1970 white FALSE 
 2         1     842 red   TRUE  
 3         1    2287 white FALSE 
 4         1     599 white FALSE 
 5         1     108 white FALSE 
 6         1     846 red   TRUE  
 7         1     390 red   TRUE  
 8         1     344 white FALSE 
 9         1     910 white FALSE 
10         1    1485 white FALSE 
# … with 40 more rows
```

Observe that for every row where `color == "red"`, the Boolean (logical)  value `TRUE` is returned and for every row where `color` is not equal to `"red"`, the Boolean `FALSE` is returned.

Second, let's compute the number of balls out of 50 that are red using the `summarize()` function. Recall from Section \@ref(summarize) that `summarize()` takes a data frame with many rows and returns a data frame with a single row containing summary statistics, like the `mean()` or `median()`. In this case, we use the `sum()`:


```r
virtual_shovel %>% 
  mutate(is_red = (color == "red")) %>% 
  summarize(num_red = sum(is_red))
```

```
# A tibble: 1 x 2
  replicate num_red
      <int>   <int>
1         1      12
```


Why does this work? Because R treats `TRUE` like the number `1` and `FALSE` like the number `0`. So summing the number of `TRUE`s and `FALSE`s is equivalent to summing `1`'s and `0`'s. In the end, this operation counts the number of balls where `color` is `red`. In our case, 12 of the 50 balls were red. However, you might have gotten a different number red because of the randomness of the virtual sampling.

Third and lastly, let's compute the proportion of the 50 sampled balls that are red by dividing `num_red` by 50:


```r
virtual_shovel %>% 
  mutate(is_red = color == "red") %>% 
  summarize(num_red = sum(is_red)) %>% 
  mutate(prop_red = num_red / 50)
```

```
# A tibble: 1 x 3
  replicate num_red prop_red
      <int>   <int>    <dbl>
1         1      12     0.24
```


In other words, 24% of this virtual sample's balls were red. Let's make this code a little more compact and succinct by combining the first `mutate()` and the `summarize()` as follows:


```r
virtual_shovel %>% 
  summarize(num_red = sum(color == "red")) %>% 
  mutate(prop_red = num_red / 50)
```

```
# A tibble: 1 x 3
  replicate num_red prop_red
      <int>   <int>    <dbl>
1         1      12     0.24
```

Great! 24% of `virtual_shovel`'s 50 balls were red! So based on this particular sample of 50 balls, our guess at the proportion of the `bowl`'s balls that are red is 24%. But remember from our earlier tactile sampling activity that if we repeat this sampling, we will not necessarily obtain the same value of 24% again. There will likely be some variation. In fact, our 33 groups of friends computed 33 such proportions whose distribution we visualized in Figure \@ref(fig:sampling-exercise-5). We saw that these estimates *varied*. Let's now perform the virtual analog of having 33 groups of students use the sampling shovel!


### Using the virtual shovel 33 times

Recall that in our tactile sampling exercise in Section \@ref(sampling-activity), we had 33 groups of students each use the shovel, yielding 33 samples of size 50 balls. We then used these 33 samples to compute 33 proportions. In other words, we repeated/replicated using the shovel 33 times. We can perform this repeated/replicated sampling virtually by once again using our virtual shovel function `rep_sample_n()`, but by adding the `reps = 33` argument. This is telling R that we want to repeat the sampling 33 times. 

We'll save these results in a data frame called `virtual_samples`. While we provide a preview of the first 10 rows of `virtual_samples` in what follows, we highly suggest you scroll through its contents using RStudio's spreadsheet viewer by running `View(virtual_samples)`. 


```r
virtual_samples <- bowl %>% 
  rep_sample_n(size = 50, reps = 33)
virtual_samples
```

```
# A tibble: 1,650 x 3
# Groups:   replicate [33]
   replicate ball_ID color
       <int>   <int> <chr>
 1         1     875 white
 2         1    1851 red  
 3         1    1548 red  
 4         1    1975 white
 5         1     835 white
 6         1      16 white
 7         1     327 white
 8         1    1803 red  
 9         1     740 red  
10         1     179 red  
# … with 1,640 more rows
```

Observe in the spreadsheet viewer that the first 50 rows of `replicate` are equal to `1` while the next 50 rows of `replicate` are equal to `2`. This is telling us that the first 50 rows correspond to the first sample of 50 balls while the next 50 rows correspond to the second sample of 50 balls. This pattern continues for all `reps = 33` replicates and thus `virtual_samples` has 33 $\cdot$ 50 = 1650 rows. 

Let's now take `virtual_samples` and compute the resulting 33 proportions red. We'll use the same `dplyr` verbs as before, but this time with an additional `group_by()` of the `replicate` variable. Recall from Section \@ref(groupby) that by assigning the grouping variable "meta-data" before we `summarize()`, we'll obtain 33 different proportions red. We display a preview of the first 10 out of 33 rows:


```r
virtual_prop_red <- virtual_samples %>% 
  group_by(replicate) %>% 
  summarize(red = sum(color == "red")) %>% 
  mutate(prop_red = red / 50)
virtual_prop_red
```

```
# A tibble: 33 x 3
   replicate   red prop_red
       <int> <int>    <dbl>
 1         1    23     0.46
 2         2    19     0.38
 3         3    18     0.36
 4         4    19     0.38
 5         5    15     0.3 
 6         6    21     0.42
 7         7    21     0.42
 8         8    16     0.32
 9         9    24     0.48
10        10    14     0.28
# … with 23 more rows
```

As with our 33 groups of friends' tactile samples, there is variation in the resulting 33 virtual proportions red. Let's visualize this variation in a histogram in Figure \@ref(fig:samplingdistribution-virtual). Note that we add `binwidth = 0.05` and `boundary = 0.4` arguments as well. Recall that setting `boundary = 0.4` ensures a binning scheme with one of the bins' boundaries at 0.4. Since the `binwidth = 0.05` is also set, this will create bins with boundaries at 0.30, 0.35, 0.45, 0.5, etc. as well.


```r
ggplot(virtual_prop_red, aes(x = prop_red)) +
  geom_histogram(binwidth = 0.05, boundary = 0.4, color = "white") +
  labs(x = "Proportion of 50 balls that were red", 
       title = "Distribution of 33 proportions red") 
```
<div class="figure" style="text-align: center">
<img src="ModernDive_files/figure-html/samplingdistribution-virtual-1.png" alt="Distribution of 33 proportions based on 33 samples of size 50." width="\textwidth" />
<p class="caption">(\#fig:samplingdistribution-virtual)Distribution of 33 proportions based on 33 samples of size 50.</p>
</div>

Observe that we occasionally obtained proportions red that are less than 30%. On the other hand, we occasionally  obtained proportions that are greater than 45%. However, the most frequently occurring proportions were between 35% and 40% (for 11 out of 33 samples). Why do we have these differences in proportions red? Because of *sampling variation*. 

Let's now compare our virtual results with our tactile results from the previous section in Figure \@ref(fig:tactile-vs-virtual). Observe that both histograms are somewhat similar in their center and variation, although not identical. These slight differences are again due to random sampling variation. Furthermore, observe that both distributions are somewhat bell-shaped.

<div class="figure" style="text-align: center">
<img src="ModernDive_files/figure-html/tactile-vs-virtual-1.png" alt="Comparing 33 virtual and 33 tactile proportions red." width="\textwidth" />
<p class="caption">(\#fig:tactile-vs-virtual)Comparing 33 virtual and 33 tactile proportions red.</p>
</div>

<div class="learncheck">

<p><strong><em>Learning check</em></strong> </p>
</div>

**(LC7.3)** Why couldn't we study the effects of sampling variation when we used the virtual shovel only once? Why did we need to take more than one virtual sample (in our case 33 virtual samples)?

<div class="learncheck">

</div>


### Using the virtual shovel 1000 times {#shovel-1000-times}

Now say we want to study the effects of sampling variation not for 33 samples, but rather for a larger number of samples, say 1000. We have two choices at this point. We could have our groups of friends manually take 1000 samples of 50 balls and compute the corresponding 1000 proportions. However, this would be a tedious and time-consuming task. This is where computers excel: automating long and repetitive tasks while performing them quite quickly. Thus, at this point we will abandon tactile sampling in favor of only virtual sampling. Let's once again use the `rep_sample_n()` function with sample `size` set to be 50 once again, but this time with the number of replicates `reps` set to `1000`. Be sure to scroll through the contents of `virtual_samples` in RStudio's viewer. 


```r
virtual_samples <- bowl %>% 
  rep_sample_n(size = 50, reps = 1000)
virtual_samples
```

```
# A tibble: 50,000 x 3
# Groups:   replicate [1,000]
   replicate ball_ID color
       <int>   <int> <chr>
 1         1    1236 red  
 2         1    1944 red  
 3         1    1939 white
 4         1     780 white
 5         1    1956 white
 6         1    1003 white
 7         1    2113 white
 8         1    2213 white
 9         1     782 white
10         1     898 white
# … with 49,990 more rows
```

Observe that now `virtual_samples` has 1000 $\cdot$ 50 = 50,000 rows, instead of the 33 $\cdot$ 50 = 1650 rows from earlier. Using the same data wrangling code as earlier, let's take the data frame `virtual_samples` with 1000 $\cdot$ 50 = 50,000 rows and compute the resulting 1000 proportions of red balls. 


```r
virtual_prop_red <- virtual_samples %>% 
  group_by(replicate) %>% 
  summarize(red = sum(color == "red")) %>% 
  mutate(prop_red = red / 50)
virtual_prop_red
```

```
# A tibble: 1,000 x 3
   replicate   red prop_red
       <int> <int>    <dbl>
 1         1    18     0.36
 2         2    19     0.38
 3         3    20     0.4 
 4         4    15     0.3 
 5         5    17     0.34
 6         6    16     0.32
 7         7    23     0.46
 8         8    23     0.46
 9         9    15     0.3 
10        10    18     0.36
# … with 990 more rows
```

Observe that we now have 1000 replicates of `prop_red`, the proportion of 50 balls that are red. Using the same code as earlier, let's now visualize the distribution of these 1000 replicates of `prop_red` in a histogram in Figure \@ref(fig:samplingdistribution-virtual-1000).


```r
ggplot(virtual_prop_red, aes(x = prop_red)) +
  geom_histogram(binwidth = 0.05, boundary = 0.4, color = "white") +
  labs(x = "Proportion of 50 balls that were red", 
       title = "Distribution of 1000 proportions red") 
```
<div class="figure" style="text-align: center">
<img src="ModernDive_files/figure-html/samplingdistribution-virtual-1000-1.png" alt="Distribution of 1000 proportions based on 1000 samples of size 50." width="\textwidth" />
<p class="caption">(\#fig:samplingdistribution-virtual-1000)Distribution of 1000 proportions based on 1000 samples of size 50.</p>
</div>

Once again, the most frequently occurring proportions of red balls occur between 35% and 40%. Every now and then, we obtain proportions as low as between 20% and 25%, and others as high as between 55% and 60%. These are rare, however. Furthermore, observe that we now have a much more symmetric and smoother bell-shaped distribution. This distribution is, in fact, approximated well by a normal distribution. At this point we recommend you read the "Normal distribution" section (Appendix \@ref(appendix-normal-curve)) for a brief discussion on the properties of the normal distribution.


<div class="learncheck">

<p><strong><em>Learning check</em></strong> </p>
</div>

**(LC7.4)** Why did we not take 1000 "tactile" samples of 50 balls by hand?

**(LC7.5)** Looking at Figure \@ref(fig:samplingdistribution-virtual-1000), would you say that sampling 50 balls where 30% of them were red is likely or not? What about sampling 50 balls where 10% of them were red?

<div class="learncheck">

</div>


### Using different shovels {#different-shovels}

Now say instead of just one shovel, you have three choices of shovels to extract a sample of balls with: shovels of size 25, 50, and 100.

<!--
A shovel with 25 slots          |  A shovel with 50 slots  | A shovel with 100 slots
:-------------------------:|:-------------------------:|:-------------------------:
![](images/sampling/balls/shovel_025.jpg){ width=1.6in }  |  ![](images/sampling/balls/shovel_050.jpg){ width=1.6in } | ![](images/sampling/balls/shovel_100.jpg){ width=1.6in } 
-->
<div class="figure" style="text-align: center"><span id="fig:three-shovels"></span>
<img src="images/sampling/balls/three_shovels.png" alt="Three shovels to extract three different sample sizes." width="100%" />
<p class="caption">
FIGURE 1.8: Three shovels to extract three different sample sizes.
</p>
</div>
<p>If your goal is still to estimate the proportion of the bowl’s balls that are red, which shovel would you choose? In our experience, most people would choose the largest shovel with 100 slots because it would yield the “best” guess of the proportion of the bowl’s balls that are red. Let’s define some criteria for “best” in this subsection.</p>
<p>Using our newly developed tools for virtual sampling, let’s unpack the effect of having different sample sizes! In other words, let’s use <code>rep_sample_n()</code> with <code>size</code> set to <code>25</code>, <code>50</code>, and <code>100</code>, respectively, while keeping the number of repeated/replicated samples at 1000:</p>
<ol style="list-style-type: decimal">
<li>Virtually use the appropriate shovel to generate 1000 samples with <code>size</code> balls.</li>
<li>Compute the resulting 1000 replicates of the proportion of the shovel’s balls that are red.</li>
<li>Visualize the distribution of these 1000 proportions red using a histogram.</li>
</ol>
<p>Run each of the following code segments individually and then compare the three resulting histograms.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="1-2-sampling-simulation.html#cb7-1"></a><span class="co"># Segment 1: sample size = 25 ------------------------------</span></span>
<span id="cb7-2"><a href="1-2-sampling-simulation.html#cb7-2"></a><span class="co"># 1.a) Virtually use shovel 1000 times</span></span>
<span id="cb7-3"><a href="1-2-sampling-simulation.html#cb7-3"></a>virtual_samples_<span class="dv">25</span> &lt;-<span class="st"> </span>bowl <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-4"><a href="1-2-sampling-simulation.html#cb7-4"></a><span class="st">  </span><span class="kw">rep_sample_n</span>(<span class="dt">size =</span> <span class="dv">25</span>, <span class="dt">reps =</span> <span class="dv">1000</span>)</span>
<span id="cb7-5"><a href="1-2-sampling-simulation.html#cb7-5"></a></span>
<span id="cb7-6"><a href="1-2-sampling-simulation.html#cb7-6"></a><span class="co"># 1.b) Compute resulting 1000 replicates of proportion red</span></span>
<span id="cb7-7"><a href="1-2-sampling-simulation.html#cb7-7"></a>virtual_prop_red_<span class="dv">25</span> &lt;-<span class="st"> </span>virtual_samples_<span class="dv">25</span> <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-8"><a href="1-2-sampling-simulation.html#cb7-8"></a><span class="st">  </span><span class="kw">group_by</span>(replicate) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-9"><a href="1-2-sampling-simulation.html#cb7-9"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">red =</span> <span class="kw">sum</span>(color <span class="op">==</span><span class="st"> &quot;red&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-10"><a href="1-2-sampling-simulation.html#cb7-10"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">prop_red =</span> red <span class="op">/</span><span class="st"> </span><span class="dv">25</span>)</span>
<span id="cb7-11"><a href="1-2-sampling-simulation.html#cb7-11"></a></span>
<span id="cb7-12"><a href="1-2-sampling-simulation.html#cb7-12"></a><span class="co"># 1.c) Plot distribution via a histogram</span></span>
<span id="cb7-13"><a href="1-2-sampling-simulation.html#cb7-13"></a><span class="kw">ggplot</span>(virtual_prop_red_<span class="dv">25</span>, <span class="kw">aes</span>(<span class="dt">x =</span> prop_red)) <span class="op">+</span></span>
<span id="cb7-14"><a href="1-2-sampling-simulation.html#cb7-14"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="fl">0.05</span>, <span class="dt">boundary =</span> <span class="fl">0.4</span>, <span class="dt">color =</span> <span class="st">&quot;white&quot;</span>) <span class="op">+</span></span>
<span id="cb7-15"><a href="1-2-sampling-simulation.html#cb7-15"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Proportion of 25 balls that were red&quot;</span>, <span class="dt">title =</span> <span class="st">&quot;25&quot;</span>) </span>
<span id="cb7-16"><a href="1-2-sampling-simulation.html#cb7-16"></a></span>
<span id="cb7-17"><a href="1-2-sampling-simulation.html#cb7-17"></a></span>
<span id="cb7-18"><a href="1-2-sampling-simulation.html#cb7-18"></a><span class="co"># Segment 2: sample size = 50 ------------------------------</span></span>
<span id="cb7-19"><a href="1-2-sampling-simulation.html#cb7-19"></a><span class="co"># 2.a) Virtually use shovel 1000 times</span></span>
<span id="cb7-20"><a href="1-2-sampling-simulation.html#cb7-20"></a>virtual_samples_<span class="dv">50</span> &lt;-<span class="st"> </span>bowl <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-21"><a href="1-2-sampling-simulation.html#cb7-21"></a><span class="st">  </span><span class="kw">rep_sample_n</span>(<span class="dt">size =</span> <span class="dv">50</span>, <span class="dt">reps =</span> <span class="dv">1000</span>)</span>
<span id="cb7-22"><a href="1-2-sampling-simulation.html#cb7-22"></a></span>
<span id="cb7-23"><a href="1-2-sampling-simulation.html#cb7-23"></a><span class="co"># 2.b) Compute resulting 1000 replicates of proportion red</span></span>
<span id="cb7-24"><a href="1-2-sampling-simulation.html#cb7-24"></a>virtual_prop_red_<span class="dv">50</span> &lt;-<span class="st"> </span>virtual_samples_<span class="dv">50</span> <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-25"><a href="1-2-sampling-simulation.html#cb7-25"></a><span class="st">  </span><span class="kw">group_by</span>(replicate) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-26"><a href="1-2-sampling-simulation.html#cb7-26"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">red =</span> <span class="kw">sum</span>(color <span class="op">==</span><span class="st"> &quot;red&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-27"><a href="1-2-sampling-simulation.html#cb7-27"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">prop_red =</span> red <span class="op">/</span><span class="st"> </span><span class="dv">50</span>)</span>
<span id="cb7-28"><a href="1-2-sampling-simulation.html#cb7-28"></a></span>
<span id="cb7-29"><a href="1-2-sampling-simulation.html#cb7-29"></a><span class="co"># 2.c) Plot distribution via a histogram</span></span>
<span id="cb7-30"><a href="1-2-sampling-simulation.html#cb7-30"></a><span class="kw">ggplot</span>(virtual_prop_red_<span class="dv">50</span>, <span class="kw">aes</span>(<span class="dt">x =</span> prop_red)) <span class="op">+</span></span>
<span id="cb7-31"><a href="1-2-sampling-simulation.html#cb7-31"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="fl">0.05</span>, <span class="dt">boundary =</span> <span class="fl">0.4</span>, <span class="dt">color =</span> <span class="st">&quot;white&quot;</span>) <span class="op">+</span></span>
<span id="cb7-32"><a href="1-2-sampling-simulation.html#cb7-32"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Proportion of 50 balls that were red&quot;</span>, <span class="dt">title =</span> <span class="st">&quot;50&quot;</span>)  </span>
<span id="cb7-33"><a href="1-2-sampling-simulation.html#cb7-33"></a></span>
<span id="cb7-34"><a href="1-2-sampling-simulation.html#cb7-34"></a></span>
<span id="cb7-35"><a href="1-2-sampling-simulation.html#cb7-35"></a><span class="co"># Segment 3: sample size = 100 ------------------------------</span></span>
<span id="cb7-36"><a href="1-2-sampling-simulation.html#cb7-36"></a><span class="co"># 3.a) Virtually using shovel with 100 slots 1000 times</span></span>
<span id="cb7-37"><a href="1-2-sampling-simulation.html#cb7-37"></a>virtual_samples_<span class="dv">100</span> &lt;-<span class="st"> </span>bowl <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-38"><a href="1-2-sampling-simulation.html#cb7-38"></a><span class="st">  </span><span class="kw">rep_sample_n</span>(<span class="dt">size =</span> <span class="dv">100</span>, <span class="dt">reps =</span> <span class="dv">1000</span>)</span>
<span id="cb7-39"><a href="1-2-sampling-simulation.html#cb7-39"></a></span>
<span id="cb7-40"><a href="1-2-sampling-simulation.html#cb7-40"></a><span class="co"># 3.b) Compute resulting 1000 replicates of proportion red</span></span>
<span id="cb7-41"><a href="1-2-sampling-simulation.html#cb7-41"></a>virtual_prop_red_<span class="dv">100</span> &lt;-<span class="st"> </span>virtual_samples_<span class="dv">100</span> <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-42"><a href="1-2-sampling-simulation.html#cb7-42"></a><span class="st">  </span><span class="kw">group_by</span>(replicate) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-43"><a href="1-2-sampling-simulation.html#cb7-43"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">red =</span> <span class="kw">sum</span>(color <span class="op">==</span><span class="st"> &quot;red&quot;</span>)) <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb7-44"><a href="1-2-sampling-simulation.html#cb7-44"></a><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">prop_red =</span> red <span class="op">/</span><span class="st"> </span><span class="dv">100</span>)</span>
<span id="cb7-45"><a href="1-2-sampling-simulation.html#cb7-45"></a></span>
<span id="cb7-46"><a href="1-2-sampling-simulation.html#cb7-46"></a><span class="co"># 3.c) Plot distribution via a histogram</span></span>
<span id="cb7-47"><a href="1-2-sampling-simulation.html#cb7-47"></a><span class="kw">ggplot</span>(virtual_prop_red_<span class="dv">100</span>, <span class="kw">aes</span>(<span class="dt">x =</span> prop_red)) <span class="op">+</span></span>
<span id="cb7-48"><a href="1-2-sampling-simulation.html#cb7-48"></a><span class="st">  </span><span class="kw">geom_histogram</span>(<span class="dt">binwidth =</span> <span class="fl">0.05</span>, <span class="dt">boundary =</span> <span class="fl">0.4</span>, <span class="dt">color =</span> <span class="st">&quot;white&quot;</span>) <span class="op">+</span></span>
<span id="cb7-49"><a href="1-2-sampling-simulation.html#cb7-49"></a><span class="st">  </span><span class="kw">labs</span>(<span class="dt">x =</span> <span class="st">&quot;Proportion of 100 balls that were red&quot;</span>, <span class="dt">title =</span> <span class="st">&quot;100&quot;</span>) </span></code></pre></div>
<p>For easy comparison, we present the three resulting histograms in a single row with matching x and y axes in Figure <a href="1-2-sampling-simulation.html#fig:comparing-sampling-distributions">1.9</a>.</p>
<div class="figure" style="text-align: center"><span id="fig:comparing-sampling-distributions"></span>
<img src="ModernDive_files/figure-html/comparing-sampling-distributions-1.png" alt="Comparing the distributions of proportion red for different sample sizes." width="\textwidth" />
<p class="caption">
FIGURE 1.9: Comparing the distributions of proportion red for different sample sizes.
</p>
</div>
<p>Observe that as the sample size increases, the variation of the 1000 replicates of the proportion of red decreases. In other words, as the sample size increases, there are fewer differences due to sampling variation and the distribution centers more tightly around the same value. Eyeballing Figure <a href="1-2-sampling-simulation.html#fig:comparing-sampling-distributions">1.9</a>, all three histograms appear to center around roughly 40%.</p>
<p>We can be numerically explicit about the amount of variation in our three sets of 1000 values of <code>prop_red</code> using the  <em>standard deviation</em>. A standard deviation is a summary statistic that measures the amount of variation within a numerical variable (see Appendix <a href="#appendix-stat-terms"><strong>??</strong></a> for a brief discussion on the properties of the standard deviation). For all three sample sizes, let’s compute the standard deviation of the 1000 proportions red by running the following data wrangling code that uses the <code>sd()</code> summary function.</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="1-2-sampling-simulation.html#cb8-1"></a><span class="co"># n = 25</span></span>
<span id="cb8-2"><a href="1-2-sampling-simulation.html#cb8-2"></a>virtual_prop_red_<span class="dv">25</span> <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb8-3"><a href="1-2-sampling-simulation.html#cb8-3"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">sd =</span> <span class="kw">sd</span>(prop_red))</span>
<span id="cb8-4"><a href="1-2-sampling-simulation.html#cb8-4"></a></span>
<span id="cb8-5"><a href="1-2-sampling-simulation.html#cb8-5"></a><span class="co"># n = 50</span></span>
<span id="cb8-6"><a href="1-2-sampling-simulation.html#cb8-6"></a>virtual_prop_red_<span class="dv">50</span> <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb8-7"><a href="1-2-sampling-simulation.html#cb8-7"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">sd =</span> <span class="kw">sd</span>(prop_red))</span>
<span id="cb8-8"><a href="1-2-sampling-simulation.html#cb8-8"></a></span>
<span id="cb8-9"><a href="1-2-sampling-simulation.html#cb8-9"></a><span class="co"># n = 100</span></span>
<span id="cb8-10"><a href="1-2-sampling-simulation.html#cb8-10"></a>virtual_prop_red_<span class="dv">100</span> <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb8-11"><a href="1-2-sampling-simulation.html#cb8-11"></a><span class="st">  </span><span class="kw">summarize</span>(<span class="dt">sd =</span> <span class="kw">sd</span>(prop_red))</span></code></pre></div>
<p>Let’s compare these three measures of distributional variation in Table <a href="1-2-sampling-simulation.html#tab:comparing-n">1.1</a>.</p>
<table class="table" style="font-size: 16px; margin-left: auto; margin-right: auto;">
<caption style="font-size: initial !important;">
<span id="tab:comparing-n">TABLE 1.1: </span>Comparing standard deviations of proportions red for three different shovels
</caption>
<thead>
<tr>
<th style="text-align:right;">
Number of slots in shovel
</th>
<th style="text-align:right;">
Standard deviation of proportions red
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
25
</td>
<td style="text-align:right;">
0.094
</td>
</tr>
<tr>
<td style="text-align:right;">
50
</td>
<td style="text-align:right;">
0.069
</td>
</tr>
<tr>
<td style="text-align:right;">
100
</td>
<td style="text-align:right;">
0.045
</td>
</tr>
</tbody>
</table>
<p>As we observed in Figure <a href="1-2-sampling-simulation.html#fig:comparing-sampling-distributions">1.9</a>, as the sample size increases, the variation decreases. In other words, there is less variation in the 1000 values of the proportion red. So as the sample size increases, our guesses at the true proportion of the bowl’s balls that are red get more precise.</p>
<div class="learncheck">
<p>
<strong><em>Learning check</em></strong>
</p>
</div>
<p><strong>(LC7.6)</strong> In Figure <a href="1-2-sampling-simulation.html#fig:comparing-sampling-distributions">1.9</a>, we used shovels to take 1000 samples each, computed the resulting 1000 proportions of the shovel’s balls that were red, and then visualized the distribution of these 1000 proportions in a histogram. We did this for shovels with 25, 50, and 100 slots in them. As the size of the shovels increased, the histograms got narrower. In other words, as the size of the shovels increased from 25 to 50 to 100, did the 1000 proportions</p>
<ul>
<li>A. vary less,</li>
<li>B. vary by the same amount, or</li>
<li>C. vary more?</li>
</ul>
<p><strong>(LC7.7)</strong> What summary statistic did we use to quantify how much the 1000 proportions red varied?</p>
<ul>
<li>A. The interquartile range</li>
<li>B. The standard deviation</li>
<li>C. The range: the largest value minus the smallest.</li>
</ul>
<div class="learncheck">

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="1-1-sampling-activity.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="1-3-sampling-framework.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/moderndive/moderndive_book/edit/master/07-sampling.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
